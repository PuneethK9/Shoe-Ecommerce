<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="css/store.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,300,0,0" />
</head>
<body>
    <div id="content">

        <form id="details" action="/store" method="post">
        <header>

            <div id="icon">
                <h1><span id="sizes" class="material-symbols-outlined">steps</span>GLAMFEET</h1>
            </div>

            <div id="nav">
                <div id="ihover"><a href="/home"><h2 id="navicons">Home</h2></a></div>
                <div id="ihover"<%if(hype && hype.includes("Men")){%>style="border-bottom: 3px solid black;"<%}%>><button id="btntype" type="submit" name="Type" value="Men"><h2 id="navicons">Men</h2></button></div>
                <div id="ihover"<%if(hype && hype.includes("Women")){%>style="border-bottom: 3px solid black;"<%}%>><button id="btntype" type="submit" name="Type" value="Women"><h2 id="navicons">Women</h2></button></div>
                <div id="ihover"<%if(hype && hype.includes("Kids")){%>style="border-bottom: 3px solid black;"<%}%>><button id="btntype" type="submit" name="Type" value="Kids"><h2 id="navicons">Kids</h2></button></div>
                <div id="ihover"><h2><a href="/favs"><span id="sizes" class="material-symbols-outlined">favorite</span></a></h2></div>
                <div id="ihover"><h2><span id="sizes" class="material-symbols-outlined">shopping_cart</span></h2></div>
                <div id="ihover"><h2><span id="sizes" class="material-symbols-outlined">account_circle</span></h2></div>
            </div>

        </header>

        <div id="main">

            <div id="filters">

                    <div>
                        <h2 id="yup">Filters</h2>
                    </div>


                    <div id="category">
                        <div><h2>Category</h2></div>
                        <div><label><input  type="checkbox" name="Category" value="Running" <%=((states && states.includes("Running"))?'checked':'')%>>Running</label></div>
                        <div><label><input  type="checkbox" name="Category" value="Sneakers" <%=((states && states.includes("Sneakers"))?'checked':'')%>>Sneakers</label></div>
                        <div><label><input  type="checkbox" name="Category" value="Sports" <%=((states && states.includes("Sports"))?'checked':'')%> >Sports</label></div>
                    </div>

                    <div id="brand">
                        <div><h2>Brand</h2></div>
                        <div><label><input  type="checkbox" name="Brand" value="Puma" <%=((city && city.includes("Puma"))?'checked':'')%>>Puma</label></div>
                        <div><label><input  type="checkbox" name="Brand" value="Nike" <%=((city && city.includes("Nike"))?'checked':'')%>>Nike</label></div>
                        <div><label><input  type="checkbox" name="Brand" value="Adidas" <%=((city && city.includes("Adidas"))?'checked':'')%>>Adidas</label></div>
                        <div><label><input  type="checkbox" name="Brand" value="Woodland" <%=((city && city.includes("Woodland"))?'checked':'')%>>Woodland</label></div>
                        <div><label><input  type="checkbox" name="Brand" value="Reebok" <%=((city && city.includes("Reebok"))?'checked':'')%>>Reebok</label></div>
                        <div><label><input  type="checkbox" name="Brand" value="Jordan" <%=((city && city.includes("Jordan"))?'checked':'')%>>Jordan</label></div>
                    </div>

                    <div id="size">

                        <button name="Size" value="1" type="submit"<%if(streets && !streets.localeCompare("1")){%>style="border: 4px solid orange;"<%}%>>1</button>
                        <button name="Size" value="2" type="submit"<%if(streets && !streets.localeCompare("2")){%>style="border: 4px solid orange;"<%}%>>2</button>
                        <button name="Size" value="3" type="submit"<%if(streets && !streets.localeCompare("3")){%>style="border: 4px solid orange;"<%}%>>3</button>
                        <button name="Size" value="4" type="submit"<%if(streets && !streets.localeCompare("4")){%>style="border: 4px solid orange;"<%}%>>4</button>
                        <button name="Size" value="5" type="submit"<%if(streets && !streets.localeCompare("5")){%>style="border: 4px solid orange;"<%}%>>5</button>
                        <button name="Size" value="6" type="submit"<%if(streets && !streets.localeCompare("6")){%>style="border: 4px solid orange;"<%}%>>6</button>
                        <button name="Size" value="7" type="submit"<%if(streets && !streets.localeCompare("7")){%>style="border: 4px solid orange;"<%}%>>7</button>
                        <button name="Size" value="8" type="submit"<%if(streets && !streets.localeCompare("8")){%>style="border: 4px solid orange;"<%}%>>8</button>
                        <button name="Size" value="9" type="submit"<%if(streets && !streets.localeCompare("9")){%>style="border: 4px solid orange;"<%}%>>9</button>
                        <button name="Size" value="10" type="submit"<%if(streets && !streets.localeCompare("10")){%>style="border: 4px solid orange;"<%}%>>10</button>
                        <button name="Size" value="11" type="submit"<%if(streets && !streets.localeCompare("11")){%>style="border: 4px solid orange;"<%}%>>11</button>
                        <button name="Size" value="12" type="submit"<%if(streets && !streets.localeCompare("12")){%>style="border: 4px solid orange;"<%}%>>12</button>
                        <button name="Size" value="13" type="submit"<%if(streets && !streets.localeCompare("13")){%>style="border: 4px solid orange;"<%}%>>13</button>
                        <button name="Size" value="14" type="submit"<%if(streets && !streets.localeCompare("14")){%>style="border: 4px solid orange;"<%}%>>14</button>
                        <button name="Size" value="15" type="submit"<%if(streets && !streets.localeCompare("15")){%>style="border: 4px solid orange;"<%}%>>15</button>
                       
                        

                    </div>

                    <div id="price">
                        <div><h2>Price</h2></div>
                        <div id="items">
                            <div><label>Min<input type="number" name="Minprice" min="0"></label></div>
                            <div><label>Max<input type="number" name="Maxprice" min="0"></label></div>
                        </div>

                    </div>
            </div>

            <div id="store">

                    <div id="search">
                        <span id="sizeglass" class="material-symbols-outlined">search</span><input id="searchbar" type="text" placeholder="Search">
                    </div>

                    <div id="shoes">

                        <%Data.forEach(function(item){%>
                            <div id="stems"> 
                                <a href="/desc/<%=item.id%>"><img src=<%=item.Image%>></a>
                                <div><h2><span id="sizing" class="material-symbols-outlined">favorite</span></h2></div>
                                <div><h2><span id="sizings" class="material-symbols-outlined">shopping_bag</span></h2></div>
                                <div>
                                    <p><%=item.Name%></p>
                                    <p><%=item.Brand%></p>
                                    <p>MRP: &#8377; <%=item.Price%></p>
                                </div>
                            </div>
                        <%})%>
                        
                    </div>
            </div>

        </div>

        <footer>

        </footer>

        </form>
    </div>

    <script>

        document.getElementById("searchbar").addEventListener("input",function(){
            let con = document.getElementById("searchbar").value;
            let items = document.querySelectorAll("#stems");

            items.forEach(function(i){
                let val1 = i.children[3].children[0];
                let val2 = i.children[3].children[1];
                let text1 = val1.textContent;
                let text2 = val2.textContent;

                if(text1.toLowerCase().includes(con.toLowerCase()) || text2.toLowerCase().includes(con.toLowerCase())){
                    i.style.display='';
                }
                else{
                    i.style.display='none';
                }
            })
        })
        
        let rads = document.querySelectorAll("input[type=checkbox]");
        let nice = document.querySelector("input[value=Running]");

        
        rads.forEach(function(item){
            item.addEventListener("click",function(eve){
                const myform = document.getElementById("details");
                myform.submit();  
            })
        })

        
        let fav = document.getElementsByTagName("a");

        Array.from(fav).forEach(item => {

            item.addEventListener("mouseover",function(){
                let abs = item.parentNode.children[1].children[0].children[0];
                let abs1 = item.parentNode.children[2].children[0].children[0];
                abs.style.display="block";
                abs1.style.display="block";
                item.style.opacity="0.6";
                item.style.cursor="pointer";
            })
            item.addEventListener("mouseout",function(){
                let abs = item.parentNode.children[1].children[0].children[0];
                let abs1 = item.parentNode.children[2].children[0].children[0];
                abs.style.display="none";
                abs1.style.display="none";
                item.style.opacity="1.0";
                
            })
        })

        
        



        
    </script>
    
</body>
</html>